############################################################################
#Copyright(c) 2016, Johan Mabille, Sylvain Corlay, Martin Renou #
#Copyright(c) 2016, QuantStack #
# #
#Distributed under the terms of the BSD 3 - Clause License.#
# #
#The full license is in the file LICENSE, distributed with this software.#
    ############################################################################

#libmamba cmake module
#This module sets the following variables in your project::
#
#libmamba_FOUND - true if mamba found on the system
#libmamba_INCLUDE_DIRS - the directory containing mamba headers
#libmamba_LIBRARY - the library for dynamic linking
#libmamba_BUILD_STATICRARY - the library for static linking

    @PACKAGE_INIT @

    set(CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR};${CMAKE_MODULE_PATH}")

        @LIBMAMBA_CONFIG_CODE @

    include(CMakeFindDependencyMacro) find_dependency(nlohmann_json) find_dependency(pybind11)
        find_dependency(Threads)

            if (NOT TARGET libmamba AND NOT TARGET libmamba_lib)
                include("${CMAKE_CURRENT_LIST_DIR}/@PROJECT_NAME@Targets.cmake")

                    if (TARGET libmamba AND TARGET libmamba_lib) get_target_property(
                        @PROJECT_NAME @_INCLUDE_DIR libmamba INTERFACE_INCLUDE_DIRECTORIES)
                        get_target_property(@PROJECT_NAME @_LIBRARY libmamba LOCATION)
                            get_target_property(@PROJECT_NAME @_BUILD_STATICRARY mamba_lib LOCATION)
                                elseif(TARGET libmamba) get_target_property(
                                    @PROJECT_NAME
                                    @_INCLUDE_DIR libmamba INTERFACE_INCLUDE_DIRECTORIES)
                                    get_target_property(@PROJECT_NAME @_LIBRARY libmamba LOCATION)
                                        elseif(TARGET libmamba_lib)
                                            get_target_property(@PROJECT_NAME
                                                                @_INCLUDE_DIR libmamba_lib
                                                                    INTERFACE_INCLUDE_DIRECTORIES)
                                                get_target_property(
                                                    @PROJECT_NAME
                                                    @_BUILD_STATICRARY libmamba_lib LOCATION)
                                                    set(@PROJECT_NAME @_LIBRARY $ {
                                                        @PROJECT_NAME @_BUILD_STATICRARY
                                                    }) endif() endif()
